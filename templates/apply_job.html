{% extends 'base.html' %}
{% block title %}Apply for Job - Job Portal{% endblock %}

{% block content %}
<div class="max-w-md mx-auto p-4">
    <h2 class="text-2xl font-bold mb-4">Apply for {{ job.title }}</h2>
    {% if messages %}
        <ul class="mb-4">
            {% for message in messages %}
                <li class="{% if message.tags == 'error' %}text-red-500{% else %}text-green-500{% endif %}">{{ message }}</li>
            {% endfor %}
        </ul>
    {% endif %}
    <form method="post" class="space-y-4">
        {% csrf_token %}
        <div>
            <label for="id_email" class="block text-sm font-medium">Email:</label>
            <input type="email" id="id_email" value="{{ user.email }}" disabled class="w-full p-2 border rounded bg-gray-100">
        </div>
        <div>
            <label for="id_full_name" class="block text-sm font-medium">Full Name:</label>
            <input type="text" id="id_full_name" name="full_name" value="{{ form.full_name.value|default_if_none:'' }}" required class="w-full p-2 border rounded">
            {% if form.full_name.errors %}
                <p class="text-red-500 text-sm">{{ form.full_name.errors }}</p>
            {% endif %}
        </div>
        <div>
            <label for="id_phone_number" class="block text-sm font-medium">Phone Number:</label>
            <input type="text" id="id_phone_number" name="phone_number" value="{{ form.phone_number.value|default_if_none:'' }}" required class="w-full p-2 border rounded">
            {% if form.phone_number.errors %}
                <p class="text-red-500 text-sm">{{ form.phone_number.errors }}</p>
            {% endif %}
        </div>
        <div>
            <label for="id_linkedin_link" class="block text-sm font-medium">LinkedIn Profile (Optional):</label>
            <input type="url" id="id_linkedin_link" name="linkedin_link" value="{{ form.linkedin_link.value|default_if_none:'' }}" placeholder="https://www.linkedin.com/in/your-profile" class="w-full p-2 border rounded">
            {% if form.linkedin_link.errors %}
                <p class="text-red-500 text-sm">{{ form.linkedin_link.errors }}</p>
            {% endif %}
        </div>
        <div>
            <label for="id_resume_link" class="block text-sm font-medium">Resume Link (Optional):</label>
            <input type="url" id="id_resume_link" name="resume_link" value="{{ form.resume_link.value|default_if_none:'' }}" placeholder="https://drive.google.com/your-resume" class="w-full p-2 border rounded">
            {% if form.resume_link.errors %}
                <p class="text-red-500 text-sm">{{ form.resume_link.errors }}</p>
            {% endif %}
        </div>
        <button type="submit" class="w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600">Submit Application</button>
    </form>
</div>
{% endblock %}